#!/usr/bin/node
(()=>{"use strict";var e={873:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateFilePath=void 0;const o=r(747),s=r(765);t.validateFilePath=(e,t)=>{const{needsExist:r,what:a}=t;return e||(console.error(`Specify ${a}`),s.exit(-1)),r&&!o.existsSync(e)&&(console.error(`Cannot locate '${e}'`),s.exit(-1)),e}},484:(e,t,r)=>{const o=r(622),s=r(747),a=r(93),n=r(873),i=process.argv.splice(2),c=n.validateFilePath(i[0],{what:"input file",needsExist:!0}),l=n.validateFilePath(i[1],{what:"generated source file path"}),u=n.validateFilePath(i[2],{what:"generated resource file path"}),p=o.basename(c),f=s.readFileSync(c).toString(),{output:d,resources:x}=a.extractRawText([" labelText"," text","<OptionItem [^>]*name","<PageName [^>]*name","<Font [^>]*filename"],f,{prefix:p}),g=a.serializeResources(x);x.size>0?(s.writeFileSync(l,Buffer.from(d)),s.writeFileSync(u,g)):console.log(`There is no localizable strings found: ${p}`)},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pseudoLocalize=t.getPseudoLocaliation=t.deserializeResources=t.serializeResources=t.applyResources=t.extractRawText=void 0,t.extractRawText=(e,t,r)=>{const{prefix:o}=r||{},s=`(${e.join("|")})="([^"]+)"`,a=RegExp(s,"g"),n=new Map,i=new Map;let c=0;return{output:t.replace(a,((e,t,r)=>`${t}="(${(e=>{const t=i.get(e);if(void 0!==t)return t;const r=`${o}${o?"/":""}RSC_${c++}`;return n.set(r,e),i.set(e,r),r})(r)})"`)),resources:n}},t.applyResources=(e,...t)=>{const r=`"\\((${Array.from(new Set(t.map((e=>Array.from(e.keys()))).reduce(((e,t)=>e.concat(t)),[]))).join("|")})\\)"`,o=RegExp(r,"g");return e.replace(o,((e,r)=>`"${(e=>{for(const r of t){const t=r.get(e);if(t)return t}return""})(r)||""}"`))},t.serializeResources=e=>{const t={};for(const r of e.keys()){const o=e.get(r)||"";t[r]=o}return JSON.stringify(t,null,1)},t.deserializeResources=e=>{try{const t=JSON.parse(e),r=Object.keys(t);return Array.from(r).reduce(((e,r)=>(e.set(r,t[r]||""),e)),new Map)}catch(e){throw new Error(`Unable to deserialize: ${e}`)}};const r={a:"α",e:"ε",i:"ι",o:"Ω",u:"υ"};t.getPseudoLocaliation=e=>{if(e.match(/\.ttf$/i))return e;let t=!1;return Array.from(e).reduce(((e,o)=>{const s=o.toLowerCase();return t="$"===o||t&&"a"<=s&&s<="z",e+(t?o:r[s]||s)}),"")},t.pseudoLocalize=e=>{const r=new Map;for(const o of e.keys()){const s=e.get(o)||"";r.set(o,t.getPseudoLocaliation(s))}return r}},747:e=>{e.exports=require("fs")},622:e=>{e.exports=require("path")},765:e=>{e.exports=require("process")}},t={};!function r(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}(484)})();
//# sourceMappingURL=gentpl.js.map